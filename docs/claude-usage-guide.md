# ResLibs 项目 Claude AI 使用指南

## 概述

本指南介绍如何使用提示词指导 Claude 逐步完成 ResLibs 通用资源平台的开发。项目采用 OpenSpec 规格驱动开发和螺旋模型迭代，确保每个阶段都有明确的目标和可验证的交付物。

## 项目架构理解

### OpenSpec 结构
```
openspec/
├── project.md              # 项目整体配置和技术栈
├── AGENTS.md               # OpenSpec 使用指南
├── specs/                  # 功能规格（已实现）
│   ├── project-mission/    # 平台使命和核心价值
│   ├── automation-workflow/ # 自动化工作流
│   ├── tech-stack/         # 技术栈规范
│   ├── data-model/         # 数据模型设计
│   ├── ui-design/          # UI 设计规范
│   ├── third-party-integrations/ # 第三方集成
│   ├── deployment-strategy/ # 部署策略
│   └── project-roadmap/    # 开发路线图
├── changes/                # 变更提案（待实现功能）
└── archive/               # 已完成变更
```

### 开发周期理解
- **Cycle 1**: 基础架构 + 静态原型 + 数据验证
- **Cycle 2**: 自动化工作流 + 前后端联调
- **Cycle 3**: 商业化分发 + 多平台集成
- **Cycle 4**: 生产优化 + 运营支持

## Claude 提示词使用策略

### 1. 项目初始化阶段 (Cycle 1)

#### 1.1 基础项目搭建
```
请帮我开始 ResLibs 项目的 Cycle 1 开发：

当前项目状态：
- 已经有 OpenSpec 规格文档在 openspec/ 目录
- 项目采用 Next.js 14+ + TypeScript + Tailwind CSS + Shadcn/UI
- 需要支持多种资源类型（Unity Assets、软件工具、设计素材等）

请执行以下任务：
1. 初始化 Next.js 项目脚手架
2. 配置 TypeScript、Tailwind CSS、Shadcn/UI
3. 设置 Prisma 数据库基础模式
4. 创建基础的目录结构

参考 openspec/specs/tech-stack/ 和 openspec/specs/data-model/ 中的技术要求。
```

#### 1.2 UI 组件开发
```
基于 ResLibs 的 UI 设计规范，请帮我开发前端组件：

设计要求参考：openspec/specs/ui-design/spec.md
需要实现的页面：
1. 首页 - 支持资源类型筛选的资源列表
2. 详情页 - 支持多种资源类型的展示模板
3. 导航栏 - 包含资源类型选择器

组件要求：
- 响应式设计（Mobile/Desktop）
- 支持多种资源类型的展示
- 使用 Shadcn/UI 组件库
- 符合设计系统的颜色和排版规范

请创建必要的组件和页面文件。
```

#### 1.3 数据库设计实现
```
根据 ResLibs 的数据模型规格，请实现 Prisma 数据库模式：

规格参考：openspec/specs/data-model/spec.md
需要实现的核心实体：
1. Resource（通用资源实体）
2. ResourceType（资源类型定义）
3. Category（分类）
4. Tag（标签）
5. DownloadLink（下载链接）

关键要求：
- 支持动态资源类型定义
- 灵活的元数据存储
- 多维度分类和标签系统
- 优化的查询索引

请创建完整的 Prisma schema 文件。
```

### 2. 自动化工作流开发 (Cycle 2)

#### 2.1 Python 自动化脚本
```
请帮我开发 ResLibs 的自动化处理机器人：

工作流规格：openspec/specs/automation-workflow/spec.md
技术栈：Python 3.11+ + Google Gemini API + 多源下载器

需要实现的核心模块：
1. 资源下载模块（支持百度网盘、阿里云盘等）
2. 文件处理模块（解压、元数据提取、预览生成）
3. AI 内容生成模块（基于资源类型生成标题和描述）
4. 数据库写入模块（将处理结果写入 PostgreSQL）

特殊要求：
- 支持多种资源类型的自动识别
- 类型特定的处理逻辑
- 错误处理和重试机制
- AI 提示词模板系统

请创建项目结构和核心模块代码。
```

#### 2.2 AI 内容生成集成
```
请实现 ResLibs 的 AI 内容生成功能：

AI 服务要求：openspec/specs/tech-stack/spec.md
使用 Google Gemini API（gemini-1.5-flash/pro）

需要实现：
1. 不同资源类型的提示词模板
2. 元数据分析和处理
3. SEO 优化的内容生成
4. 多语言支持（中英文）

资源类型举例：
- Unity Assets：版本兼容性、功能描述、使用场景
- 软件工具：系统要求、功能特性、安装指南
- 设计素材：分辨率、格式、风格描述、使用许可

请创建 AI 生成模块和提示词模板。
```

#### 2.3 前后端数据集成
```
请帮我实现 ResLibs 的前后端数据集成：

前端：Next.js + TypeScript
后端：Next.js Server Actions + Prisma
数据库：PostgreSQL

需要实现的功能：
1. 资源列表页面（支持筛选和搜索）
2. 资源详情页面（动态内容展示）
3. 多维度筛选（类型、分类、标签）
4. 搜索功能（全文搜索）

技术要求：
- 使用 Next.js Server Actions
- 响应式数据加载
- SEO 优化
- 类型安全的 API

请创建必要的 API 端点和页面组件。
```

### 3. 商业化功能开发 (Cycle 3)

#### 3.1 多平台分发集成
```
请帮我实现 ResLibs 的多平台分发功能：

分发平台：openspec/specs/third-party-integrations/spec.md
需要集成的平台：
1. Rapidgator（FTP 上传）
2. 诚通网盘（API）
3. 飞猫云（API）
4. 其他程序下载站

功能要求：
1. 多渠道上传策略
2. 上传重试机制
3. 链接聚合和管理
4. 上传状态监控

请创建上传模块和平台集成代码。
```

#### 3.2 商业化界面
```
请优化 ResLibs 的商业化界面：

设计参考：openspec/specs/ui-design/spec.md
需要优化：
1. 下载区域的设计和布局
2. 平台特定的下载说明
3. 广告位集成
4. 用户行为引导

用户体验要求：
- 清晰的下载选项
- 引导用户点击的设计
- 移动端优化
- 加载状态处理

请更新相关的 UI 组件。
```

### 4. 生产优化阶段 (Cycle 4)

#### 4.1 SEO 优化实现
```
请帮我实现 ResLibs 的 SEO 优化：

SEO 要求：openspec/specs/project-roadmap/spec.md Cycle 4
需要实现：
1. 动态 sitemap.xml 生成
2. Meta Tags 优化
3. OpenGraph 和 Twitter Card
4. 结构化数据标记

技术要求：
- Next.js SEO 最佳实践
- 动态元数据生成
- 多语言 SEO 支持
- 搜索引擎友好的 URL

请实现相关的 SEO 功能。
```

#### 4.2 管理后台开发
```
请开发 ResLibs 的管理后台：

功能需求：openspec/specs/project-roadmap/spec.md
需要实现：
1. 资源提交管理界面
2. 处理状态监控
3. 批量操作功能
4. 统计分析面板

界面要求：
- 使用 Shadcn/UI 组件
- 响应式设计
- 实时数据更新
- 操作确认和反馈

请创建管理后台的页面和功能。
```

## 通用提示词模板

### 功能开发提示词模板
```
请帮我实现 [功能名称]：

规格参考：openspec/specs/[相关规格文件].md
技术要求：openspec/specs/tech-stack/spec.md

当前项目状态：
[描述当前进度和已有基础]

具体需求：
1. [需求1]
2. [需求2]
3. [需求3]

技术约束：
- [约束1]
- [约束2]

请创建必要的代码文件，并确保：
1. 代码符合项目的代码风格规范
2. 包含必要的错误处理
3. 添加适当的注释和文档
4. 考虑性能优化
```

### 问题排查提示词模板
```
我在 ResLibs 项目中遇到了问题：

问题描述：
[详细描述问题现象]

相关代码：
[粘贴相关代码片段]

错误信息：
[粘贴错误信息]

已尝试的解决方案：
1. [尝试1]
2. [尝试2]

项目背景：
- 使用 Next.js 14+ + TypeScript
- 数据库使用 PostgreSQL + Prisma
- 当前开发阶段：[Cycle 1/2/3/4]

请帮我：
1. 分析问题原因
2. 提供解决方案
3. 解释技术原理
4. 给出预防措施
```

### 代码审查提示词模板
```
请帮我审查 ResLibs 项目的代码：

代码文件：[文件路径]
功能描述：[代码实现的功能]

请从以下角度审查：
1. 代码质量和规范性
2. 性能优化建议
3. 安全性考虑
4. 可维护性
5. 符合项目规格的程度

项目规格参考：
openspec/specs/[相关规格].md

请提供具体的改进建议。
```

## 最佳实践

### 1. 开发顺序建议
1. **先读规格**：每次开发前先阅读相关的 OpenSpec 规格
2. **小步快跑**：每个功能独立开发和测试
3. **及时提交**：完成后立即提交代码
4. **文档同步**：更新技术文档和用户手册

### 2. 提示词技巧
1. **提供上下文**：说明当前项目状态和开发阶段
2. **引用规格**：明确指向相关的 OpenSpec 文档
3. **具体明确**：避免模糊的描述，提供具体需求
4. **分步骤**：复杂任务分解为多个小步骤

### 3. 质量保证
1. **测试驱动**：根据规格编写测试用例
2. **代码审查**：定期请 Claude 审查代码质量
3. **性能监控**：关注处理性能和用户体验
4. **安全检查**：确保文件处理和数据安全

### 4. 文档维护
1. **及时更新**：功能变更后同步更新规格
2. **版本记录**：记录重要的架构决策
3. **用户指南**：维护用户使用手册
4. **部署文档**：更新部署和运维文档

## 常见问题解决

### Q: 如何处理新的资源类型？
A: 使用项目定义的插件系统，参考 `openspec/specs/project-mission/spec.md` 中的资源类型扩展性需求。

### Q: 如何集成新的下载源？
A: 参考多源下载器的设计模式，在 `openspec/specs/automation-workflow/spec.md` 中有详细说明。

### Q: 如何优化处理性能？
A: 参考 `openspec/specs/tech-stack/spec.md` 中的性能优化要求，使用异步处理和缓存机制。

### Q: 如何确保代码质量？
A: 遵循项目约定，定期使用代码审查提示词，运行测试套件。

## 总结

通过合理使用这些提示词模板和最佳实践，你可以高效地指导 Claude 完成 ResLibs 项目的各个开发阶段。记住：

1. **规格驱动**：始终以 OpenSpec 规格为依据
2. **迭代开发**：遵循螺旋模型的开发节奏
3. **质量优先**：确保每个交付物都是可运行的
4. **持续改进**：基于用户反馈和数据分析优化系统

祝开发顺利！