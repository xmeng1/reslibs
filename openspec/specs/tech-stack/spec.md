# 技术栈

### 需求: 前端技术栈
系统应为多类型资源展示使用现代 Web 技术。

#### 场景: 框架选择
- **当** 开发支持多资源类型的前端时
- **那么** 系统使用 Next.js 14+ with App Router、TypeScript、Tailwind CSS、Shadcn/UI 和 Lucide React 图标，支持动态组件渲染

#### 场景: 资源类型适配开发
- **当** 设置支持不同资源类型的前端时
- **那么** 开发者可以使用 TypeScript 类型检查、动态组件系统、热重载和基于资源类型的组件开发

#### 场景: 多媒体处理能力
- **当** 处理不同类型资源预览时
- **那么** 系统支持：3D 模型查看器（Three.js）、视频播放器、音频播放器、图像查看器、代码编辑器等组件

### 需求: 后端技术栈
系统应提供强大的 API 和数据管理层，支持多种资源类型。

#### 场景: 后端框架
- **当** 实现支持多资源类型的服务器端逻辑时
- **那么** 系统使用 Next.js Server Actions 或 NestJS，支持插件化的资源类型处理器

#### 场景: 灵活的数据库配置
- **当** 存储多类型资源数据时
- **那么** 系统使用 PostgreSQL（Supabase/Neon）用于生产，SQLite 用于测试，Prisma ORM 支持动态模式迁移

#### 场景: 可扩展身份验证系统
- **当** 管理用户和权限时
- **那么** 系统使用 Clerk 或 NextAuth，支持基于资源类型的访问控制

### 需求: 多源自动化机器人技术栈
系统应使用 Python 进行支持多种来源和资源类型的自动化任务。

#### 场景: 可扩展 Python 运行时
- **当** 执行支持多种资源类型的自动化脚本时
- **那么** 系统运行在 Python 3.11+ 上，使用插件化架构支持不同资源处理器

#### 场景: 多样化来源集成
- **当** 从不同平台下载资源时
- **那么** 系统集成：BaiduPCS-Go（百度网盘）、阿里云盘 API、其他云盘 SDK、HTTP 下载器

#### 场景: 资源类型特化的 AI 服务
- **当** 为不同类型资源生成内容时
- **那么** 系统集成 Google Gemini API，使用资源类型特定的提示模板和 `google-generativeai` Python SDK

#### 场景: 智能文件处理
- **当** 处理不同格式的文件时
- **那么** 系统使用：PIL/Pillow（图像）、FFmpeg（视频/音频）、PyPDF2（PDF）、Unity 包解析器等

### 需求: 多媒体存储和处理技术栈
系统应提供支持多种资源类型的存储和处理能力。

#### 场景: 多媒体对象存储
- **当** 存储不同类型资源的预览和文件时
- **那么** 系统使用 Cloudflare R2（S3 兼容），支持图像、视频、音频、3D 模型的优化存储

#### 场景: 资源预处理能力
- **当** 处理不同类型资源时
- **那么** 系统支持：图像压缩和缩放、视频转码和缩略图生成、音频格式转换、3D 模型优化

### 需求: 可扩展部署技术栈
系统应使用现代云基础设施进行部署，支持不同规模的需求。

#### 场景: 多环境 Web 应用部署
- **当** 部署支持多资源类型的 Web 应用时
- **那么** 系统使用 Vercel 进行前端托管，支持 CDN 加速和全球分发

#### 场景: 高性能工作服务器
- **当** 运行资源处理脚本时
- **那么** 系统在高带宽 VPS 或本地高性能 PC 上运行，支持 GPU 加速（用于视频处理、AI 内容生成）

#### 场景: 容器化资源处理
- **当** 部署资源处理服务时
- **那么** 系统使用 Docker 容器，支持不同资源类型的专用处理环境

### 需求: 可插拔资源类型架构
系统应支持灵活添加新的资源类型，无需修改核心代码。

#### 场景: 资源类型插件系统
- **当** 添加新的资源类型支持时
- **那么** 系统提供插件接口：元数据定义、处理逻辑、展示模板、AI 提示模板

#### 场景: 动态模板系统
- **当** 为不同资源类型生成展示页面时
- **那么** 系统支持动态模板加载和渲染，允许自定义每种资源类型的展示方式