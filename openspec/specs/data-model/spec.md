# 数据模型

### 需求: 通用资源实体结构
系统应存储带有全面元数据和类型特化信息的多类型资源。

#### 场景: 核心资源信息
- **当** 创建新资源条目时
- **那么** 系统存储：唯一 ID、资源类型、标题、URL slug、markdown 内容、可选缩略图 URL、预览内容数组（图像、视频、音频等）

#### 场景: 类型特定元数据
- **当** 存储不同类型资源详情时
- **那么** 系统捕获：Unity 版本兼容性（Unity Assets）、软件系统要求（软件工具）、分辨率和格式（设计素材）、时长和质量（视频音频）、技术规格、文件属性等

#### 场景: 灵活的下载链接管理
- **当** 存储多个托管链接时
- **那么** 系统使用 JSON 格式存储每个下载选项的提供商、URL、定价信息、平台适用性和质量等级

#### 场景: 多维度分类
- **当** 组织多类型内容时
- **那么** 每个资源属于一个主分类和资源类型，可以拥有多个标签以提高可发现性

#### 场景: 资源生命周期管理
- **当** 管理资源状态时
- **那么** 系统跟踪：发布状态、资源状态（正常/损坏/过时）、版本信息、创建和更新时间戳

### 需求: 资源类型实体结构
系统应支持动态定义和管理不同资源类型。

#### 场景: 资源类型定义
- **当** 定义新的资源类型时
- **那么** 每个类型包含：唯一 ID、类型名称、显示名称、描述、图标、默认元数据字段、处理规则、展示模板

#### 场景: 类型特定配置
- **当** 配置资源类型时
- **那么** 系统支持：自定义元数据模式、文件扩展名白名单、预处理规则、AI 提示模板、分发策略

#### 场景: 类型关系管理
- **当** 管理资源类型关系时
- **那么** 系统支持类型层次结构（如 "Unity Assets" -> "3D Models"）和类型兼容性规则

### 需求: 分层分类实体结构
系统应将内容组织成支持多类型资源的分层分类。

#### 场景: 分类管理
- **当** 定义内容分类时
- **那么** 每个分类有唯一 ID、名称、URL slug、支持的资源类型、父分类关系，可以包含多种类型的资源

#### 场景: 多类型分类关系
- **当** 浏览内容时
- **那么** 用户可以按分类筛选并看到该分类下的所有类型资源

### 需求: 灵活标签实体结构
系统应提供支持多类型资源的标记功能。

#### 场景: 类型感知标签分配
- **当** 标记内容时
- **那么** 每个标签有唯一 ID、名称、适用的资源类型、权重，可以应用于多种类型的资源

#### 场景: 多维度标签筛选
- **当** 搜索特定内容时
- **那么** 用户可以按标签、资源类型、分类组合筛选以查找精确的资源

### 需求: 可扩展元数据系统
系统应支持不同资源类型的自定义元数据。

#### 场景: 动态元数据字段
- **当** 处理不同类型资源时
- **那么** 系统存储类型特定的元数据：版本信息、技术规格、质量指标、兼容性信息等

#### 场景: 元数据验证
- **当** 验证资源元数据时
- **那么** 系统应用类型特定的验证规则和数据格式要求

### 需求: 优化的数据库模式
系统应使用支持多类型资源的优化数据库关系。

#### 场景: 多维度关系
- **当** 实现资源-标签-分类关系时
- **那么** 数据库使用适当的连接表和索引进行高效的多条件查询

#### 场景: 全文搜索优化
- **当** 设计数据库索引时
- **那么** 系统针对跨类型搜索优化，如 slug 查找、类型筛选、分类筛选、标签搜索和元数据搜索